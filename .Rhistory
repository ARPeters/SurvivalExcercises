#    TRUE
#13) In choosing betwen the conditional 1 and the marginal approaches, the marginal approach would be preferred provided the different strata
#    clearly represent different event types.
#    TRUE
#14) When using an interaction stratified Cox model to analyze recurrent event data, the estimated regression coefficients and corresponding
#    standard errors for the first stratum always will be identical for conditional 1, conditional 2, and marginal approaches.
#    TRUE
#15) The choice among the Counting Process, conditional 1, conditional 2, and marginal approaches depends upon whether a no-interaction
#    stratified Cox or an interaction stratified Cox model is more appropriate for one's data.
#    FALSE
#16) Suppose that Allie, Sally, and Callie are the only three subjects in the dataset shown below. All three subjects have two recurrent events
#    that occur at different event times
ID<-c("A", "A", "S", "S", "C", "C")
Status<-c("1")
Stratum<-c(1,2,1,2,1,2)
Start<-c(0, 70, 0, 20, 0, 10)
Stop<-c(70, 90, 20, 30, 10, 40)
tx<-c(1,1,0,0,1,1)
ds<-cbind(ID, Status, Stratum, Start, Stop, tx)
ds<-as.data.frame(ds)
ds
#    Fill in the following data layout describing survival (in weeks) to the first event (stratum 1). Recall that m(j) and q(j) denote the number
#    of failures and censored observations at time t(j). The survival probabilities in the last column use the KM product limit formula.
survObject16<-Surv(time=as.numeric(as.vector(ds$Start)), time2=as.numeric(as.vector((ds$Stop))), event=ds$Status==1)
summary(survfit(survObject16~strata(ds$Stratum), data=ds))
#17  Plot the survival curve that corresponds to the data layout obtained for question 16
plot(survfit(survObject16~strata(ds$Stratum), data=ds), col=c("Black", "Red"), xlab=c("Time, t"), ylab=c("Survival Probability, S(t)"))
legend(x=50, y=0.8, legend=c("Stratum 1 = Black"))
#18)  Fill in the following data layout describing survival (in weeks) from the first to second event using the Conditional approach.
ds$gaptime<-(as.numeric(as.vector(ds$Stop))-as.numeric(as.vector(ds$Start)))
survObject18<-Surv(ds$gaptime, ds$Status==1)
summary(survfit(survObject18~strata(ds$Stratum), data=ds))
#19)  Plot the survival curve that corresponds to the data layout obrtained for Question 18
plot(survfit(survObject18~strata(ds$Stratum), data=ds), col=c("Black", "Red"), xlab=c("Time, t"), ylab=c("Survival Probability, S(t)"))
legend(x=40, y=0.8, legend=c("Stratum 2 = Red"))
#20) Fill in the following data layout descibing survival (in weeks) to the second event using the marginal aproach.
survObject20<-Surv(time= as.numeric(as.vector((ds$Stop))), event=ds$Status==1)
summary(survfit(survObject20~strata(ds$Stratum), data=ds))
#21) Plot the survival curve that corresponds to the data layout obrained for Question 20.
plot(survfit(survObject20~strata(ds$Stratum), data=ds), col=c("Black", "Red"), xlab=c("Time, t"), ylab=c("Survival Probability, S(t)"))
legend(x=40, y=0.8, legend=c("Stratum 2 = Red"))
#22) To what extend do the three plots obtained in Questions 17, 19, and 21 differ?
#
#     The survival curve in question 16 is interested solely in time until the first event. The model in question 18 is interesed in survival
#     times, where time is defined as starting at the occurence of the first event and stopping at the second event. The final model is
#     interested in time until the second event, where all subjects are condsidered at risk of the second event from the start of the study.
#####################################
#Test Questions
#####################################
#1) Suppose that Bonnie and Lonnie are the only two subjects in the dataset swown below, where both subjects have two recurrent events that
#   occur at dfferent times.
ID<-c("B", "B", "R", "R")
Status<-1
Stratum<-c(1, 2, 1, 2)
Start<-c(0, 12, 0, 20)
Stop<-c(12, 16, 20, 23)
ds<-cbind(ID, Status, Stratum, Start, Stop)
ds<-as.data.frame(ds)
ds
#A) Fill in the empty cels in the following data layuut describing survival time to the first event (stratum 1):
survObject<-Surv(time=as.numeric(as.vector(ds$Start)), time2=as.numeric(as.vector(ds$Stop)), event=ds$Status==1)
survlayout1A<-summary(survfit(survObject~strata(Stratum), data=ds))
survlayout1A
#B) Why will the layout given in part A be the same regardless of whether the analysis approach is the counting process, stratified CP, gap time,
#   or marginal approaches?
#   The other approaches are all geared towards allowing for recurrent events. All methods necessarily give the same estimates regarding each
#   subject's first event.
#C) Fill in the epty cells in the following data layout describing survival time from the first to the second event (stratum 2) using the stratified
#   Counting Process
survObject<-Surv(time=as.numeric(as.vector(ds$Start)),time2=as.numeric(as.vector(ds$Stop)), event=ds$Status==1)
survlayout1C<-summary(survfit(survObject~strata(Stratum), data=ds))
survlayout1C
#D) Fill in the empty cells in the following data layout describing survival time from the first to the second event (stratum 2) using the gap-time approach
ds$gaptime<-as.numeric(as.vector(ds$Stop))-as.numeric(as.vector(ds$Start))
survObject<-Surv(time=as.numeric(as.vector(ds$gaptime)), event=ds$Status==1)
survlayout1D<-summary(survfit(survObject~strata(Stratum), data=ds))
survlayout1D
#E) Fill in the empty cells in the following data layout describing survival time from the first to the second event using the marginal approach
survObject<-Surv(time=as.numeric(as.vector(ds$Stop)), event=ds$Status==1)
survlayout1E<-summary(survfit(survObject~strata(Stratum), data=ds))
survlayout1E
#F) For the Stratfed Counting Process approach discribed in part c, determine which of the following choices is correct.
#   i: L(R)onnie is in the risk set when Bonnie gets her second event.
#G) For the Gap Time approach described in part d, determine which of the following choices is correct.
#   ii: Bonnie is in the risk set when L(R)onnie gets her second event.
#H) For the Marginal Approach described in part e, determine which of the following choices is correct:
#   i: L(R)onnie is in the risk set when Bonnie gets her second event.
#2)
dat8_2 <- c("01 1 0 39 0 0 12 1 0 39 0 1
01 1 39 66 0 0 12 1 39 80 0 1
01 1 66 97 0 0 12 0 80 107 0 1
02 1 0 34 0 1 13 1 0 36 0 1
02 1 34 65 0 1 13 1 36 64 0 1
02 1 65 100 0 1 13 1 64 95 0 1
03 1 0 36 0 0 14 1 0 46 0 1
03 1 36 67 0 0 14 1 46 77 0 1
03 1 67 96 0 0 14 0 77 111 0 1
04 1 0 40 0 0 15 1 0 61 0 1
04 1 40 80 0 0 15 1 61 79 0 1
04 0 80 111 0 0 15 0 79 111 0 1
05 1 0 45 0 0 16 1 0 57 0 1
05 1 45 68 0 0 16 0 57 79 0 1
05 . 68 . 0 0 16 . 79 . 0 1
06 1 0 33 0 1 17 1 0 37 0 1
06 1 33 66 0 1 17 1 37 76 0 1
06 1 66 96 0 1 17 0 76 113 0 1
07 1 0 34 0 1 18 1 0 58 0 1
07 1 34 67 0 1 18 1 58 67 0 1
07 1 67 93 0 1 18 0 67 109 0 1
08 1 0 39 0 1 19 1 0 58 1 1
08 1 39 72 0 1 19 1 58 63 1 1
08 1 72 102 0 1 19 1 63 106 1 1
09 1 0 39 0 1 20 1 0 45 1 0
09 1 39 79 0 1 20 1 45 72 1 0
09 0 79 109 0 1 20 1 72 106 1 0
10 1 0 36 0 0 21 1 0 48 1 0
10 1 36 65 0 0 21 1 48 81 1 0
10 1 65 96 0 0 21 1 81 112 1 0
11 1 0 39 0 0 22 1 0 38 1 1
11 1 39 78 0 0 22 1 38 64 1 1
11 1 78 108 0 0 22 1 64 97 1 1
23 1 0 51 1 1 30 1 0 57 1 0
23 1 51 69 1 1 30 1 57 78 1 0
23 0 69 98 1 1 30 1 78 99 1 0
24 1 0 43 1 1 31 1 0 44 1 1
24 1 43 67 1 1 31 1 44 74 1 1
24 0 67 111 1 1 31 1 74 96 1 1
25 1 0 46 1 0 32 1 0 38 1 1
25 1 46 66 1 0 32 1 38 71 1 1
25 1 66 110 1 0 32 1 71 105 1 1
26 1 0 33 1 1 33 1 0 38 1 1
26 1 33 68 1 1 33 1 38 64 1 1
26 1 68 96 1 1 33 1 64 97 1 1
27 1 0 51 1 1 34 1 0 38 1 1
27 1 51 97 1 1 34 1 38 63 1 1
27 0 97 115 1 1 34 1 63 99 1 1
28 1 0 37 1 0 35 1 0 49 1 1
28 1 37 79 1 0 35 1 49 70 1 1
28 1 79 93 1 0 35 0 70 107 1 1
29 1 0 41 1 1 36 1 0 34 1 1
29 1 41 73 1 1 36 1 34 81 1 1
29 0 73 111 1 1 36 1 81 97 1 1")
dat8test<-dat8_2
dat8test<-data.frame(matrix(as.numeric(dat8_2)))
dat8test
dat8_2b <- data.frame(matrix(as.numeric(unlist(strsplit(dat8_2,split="\\s|\\n"))),ncol=6,byrow=T))
dat8_2b
dat8test<-dat8_2
dat8test<-data.frame(matrix(as.numeric(dat8_2)))
dat8test
data9b<-data.frame(matrix(as.numeric(unlist(strsplit(as.numeric(data9), split="\\s|\\n"))), ncol=6,byrow=TRUE))
#Chapter 9: Competing Risks
rm(list = ls(all.names = TRUE))
library(survival)
library(survrec)
#####################################
#Practice Questions
#####################################
#1) A competing risk is an event-type that can occur simultaneiously with another event of interest in
#   the same subject
#   FALSE
#2) An example of competing risks survival data is a study in which patients receiving radiotherapy for
#   head and neck cancer may either die from their cancer or from some other cause of death.
#   TRUE
#3) If all competing risks in a given study are different causes of death, then it is possible to have
#   both competing risks and recurrent events in the same study.
#   FALSE
#4) Suppose patients with advanced-stage cancer may die after surgery before their hospital stay is long enough
#   to get a hospital infection. Then such deaths from surery reduce the hospital's burden of infection control.
#   TRUE
#5) The typical approach for analyzing competing risks using a Cox PH model involves fitting separate models for
#   each competing risk ignoring the other competing risks
#   FALSE
#6) Suppose that a cause-specific risk of interest is development of lung metastasis and competing risk is
#   local recurrence of a lung tumor. Then a patient who develops a local recurrence is treated as a failure
#   in a competing risk analysis.
#   FALSE
#7) When there are no competing risks, then any study subject in the risk set at a given time has the same risk
#   for failing as any other subject in the risk set with the same values for covariate predictors at time t.
#   FALSE
#8) If, when analyzing competing risks survival data, it is assumed that censoring is noninformative, then a
#   subject in the risk set at time t is as likely to fail from any competing risk as to be lost to follow-up
#   TRUE
#9) When a sensitivity analysis indicates that a worst-case scenario gives meaningfully different results from
#   an analysis that assumes indeendence of competing risks, then there is evidence that the independence
#   assumption is violated.
#   FALSE
#10)The typical competing risk analysis assumes that competing risks are independent even if this assumption is
#   not true.
#   TRUE
#11)The Cumulative Inciudence Curve proves risk estimates for the occurence of a cause-specific event in the
#   presence of competing risks.
#   TRUE
#12)CIC=1-Kaplan-Meier curve
#   FALSE
#13)A CIC for a cause-specific event that ignores the control of covariates does not require the assumption of
#   independent competing risks.
#   TRUE
#14)A cumulative Probability Curve gives the probability of experiencing an event c by time t, from risk c,
#   given that an individual has experienced any other competing risks by time t.
#   FALSE
#15)If CIC(sub-c)=.4, then CPC=.4/.6=.667
#   FALSE
#16)The Lunn-McNeil approach fits a single stratified Cox model using an augmented dataset to obtain the same
#   results as obtained by fitting separate Cox models for each cause-specific competing risk.
#   TRUE
#17)An advantage of the Lunn-McNeil approach over the approach that fits separate Cox models is that the LM
#   approach allows for testing whether a no-interaction SC model might be preferable to an interaction SC model.
#   TRUE
#18)Given the LM Model stratified on two cause-specific events, cancer and CVD:...
#   TRUE
#19)Given the LM(alt) model for two cause-specific events, cancer and CVD:
#   TRUE
#20)THe LMu model that would result if hte LM model of Quewstion 18 were changed to an unstratified Cox PH
#   model were changed to an unstratified Cox PH model can be written as follows:
#   FALSE
# Consider a hypothetical study of the effect of a bone marrow transplant for leukemia on leukemia-free
# survival, where transplant failures can be of one of two types: relapse of leukemia and nonrelapse death
# (without prior relapse of leukemia). Suppose that in a hospital A, 100 patients undergo such a  transplant
# and that within the first 4 years post-translplant, 60 die without relapse by year 2 and 20 relapse during
# year 4. Suppose that in hospital B, 100 patients undergo such a transplant but post-transplant, there are
# 20 non-relapse deaths by year 1, 15 relapss during year 2, 40 non-relapse deaths between years 3 and 4,
# and 5 relapses during year 4.
#21)What are the competing risks in this study?
#   Leukemia relapse and non-relapse death.
#22)What is the proportion of initial patients in hospitals A and B, respectively, that have leukemia relapse
#   by 4 years?
#   Hospital A: 20 of the 100 patients, or 0.2
#   Hospital B: 20 of the 100 patients, or 0.2
#23)How have both tables treated the competing risk for nonrelapse death in the calculation of the KM
#   probabilities.
#   Both tables treat it as censoring.
#24)Why are the KM Probabilities different at 4 years for each hospital?
#   In hospital A, all of the events and censorings happen at once, leaving just on calculation of KM
#   at one sample size.
#   In hospital B, the events and censorings happen in two waves. That means that the KM is adjusted at
#   multiple points in time, with multiple multiple sampling sizes, and is cumulative across the two adjustment
#   times (i.e. S(t=1), S(t=1)*S(t=2)).
#25)Compute the CIC curves for each hospital using the following tables
tfa<-c(0,2,4)
nfa<-c(100,40,40)
mfa<-c(0,0,20)
hazhata<-c(0,0,0.5)
survhata<-c(NA,1,0.4)
ihata<-c(NA,0,0.2)
CICa<-c(NA,0,0.2)
dsA<-cbind(tfa,nfa,mfa,hazhata,survhata,ihata,CICa)
dsA
tfb<-c(0,1,2,3,4)
nfb<-c(100,80,80,65,25)
mfb<-c(0,0,15,0,5)
hazhatb<-c(0,0,(15/80),0,5/25)
survhatb<-c(NA,1,80/100,65/100,25/100)
ihatb<-c(NA, 0, 0.15, 0, 0.5)
CICb<-c(NA,0,0.15,0.15,0.20)
dsB<-cbind(tfb,nfb,mfb,hazhatb,survhatb,ihatb,CICb)
dsB
#26)Why are the CIC probabilities the same at 4 years?
#   The CIC curves are the same at four years because they give the cumulative risk at each year. While the timing of leukemia
#   relapses differs across time, the Cumulative Incidence cumulates to the same number at year 4 in both hospitals.
#   Consider a hypothetical study to assess the effect of a new hospital infection control strategy for patients who undergo
#   heart transplant surgery in a given hospital. The exposure variable of interest is a binary variable Group (G): G = 0
#   for those patients receiving heart transplants from 1992 through 1995 when the previous hospital control strategy was used;
#   G = 1 for those patients receiving heart transplants from 1996 through 1999 when the new hospital infection control strategy
#   was adopted. The primary event of interest is getting a hospital infection after surgery. A competing risk is death during
#   recovery from surgery without getting a hospital infection. Control variables being considered are tissue mismatch score (TMS)
#   at transplant and AGE at transplant. The outcome variable of interest is time (DAYS after surgery) until a patient developed
#   a hospital infection.
#27)State a cause-specific no-interaction Cox PH model for assessing the effect of group status (G) on time until a hospital infection
#   event.
# h(t,x)=hnull*exp(B1*TMS + B2*AGE + B3*G); deaths without infection are considered censored.
#28)When fitting hte model given in Question 27, which patients should be censored?
#   Patients who die without a hospital infection are considered censored.
#29)Describe or provide a table that would show how the data on the ith patient should be augmented for input into a Lunn-McNeil model
#   for analysis.
#   In a Lunn-McNeil model, the table would include two binary outcome events, one for each of the competing risks of interest.
#30)State a Lunn-McNeil model that can be used with an augmented dataset htaht will provide identical results to those obtained
#   from useing the model of Question 27.
#   h(t,x)=hnull*exp(B1*TMS + B2*AGE + B3*G + B4*D2*TMS + B5*D2*AGE + B6*D2*G);
#   D2=0 if patient develops an infection
#   D2=1 if patient dies without infection
#31)For the LM model of Question 30, what is the formula for the hazard ratio for the group effect G, controlling for TMS and AGE
#   haz=exp(B3*G); G=1
#32)Describe how you would test whether a no-interaction SC LM Model would be more appropriate than an interaction SC LM Model
#   You would compare the two with a likelihood ratio: the full model is that of question 30, the reduced model is that of
#   question 27. You would calculate the likelihood ratio and treat it as a chi-squared stat with 3 degrees of freedom and
#   use the p-value to accept or reject the null hypothesis that the interaction variables add nothing to the model.
#33)State a Lunn-McNeil model that can be used with an augmented dataset that will provide identical results to those obtained
#   from usig the model of Question 27.
#   h(t,x)=hnull*exp(B1*D1*TMS + B2*D1*AGE + B3*D1*G + B4*D2*TMS + B5*D2*AGE + B6*D2*G)
#   D2=0 if patient develops an infection
#   D2=1 if patient dies without infection
#34)For the LM Model of question 33, what is the formula for hte hazar ratio for the group effect G, controlling for TMS and AGE?
#   haz=exp(B3)
#####################################
#Test Questions
#####################################
data9<-c("
1 1 8 1 1 1
2 0 1 0 1 3
3 0 4 1 2 1
4 0 7 0 1 1
5 0 10 1 5 1
6 2 6 0 4 1
7 0 10 1 4 1
8 0 14 0 1 1
9 0 18 1 1 1
10 3 5 0 1 3
11 0 18 1 1 3
12 1 12 0 1 1
13 2 16 1 1 1
14 0 18 0 1 1
15 0 23 1 3 3
16 3 10 0 1 3
17 1 15 1 1 3
18 0 23 0 1 3
19 2 3 1 1 1
20 3 16 0 1 1
21 1 23 1 1 1
22 1 3 0 3 1
23 2 9 1 3 1
24 2 21 0 3 1
25 0 23 1 3 1
26 3 7 0 2 3
27 3 10 1 2 3
28 1 16 0 2 3
29 1 24 1 2 3
30 1 3 0 1 1
31 2 15 1 1 1
32 2 25 0 1 1
33 0 26 1 1 2
34 1 1 0 8 1
35 0 26 1 8 1
36 1 2 0 1 4
37 1 26 1 1 4
38 1 25 0 1 2
39 0 28 1 1 2
40 0 29 0 1 4
41 0 29 1 1 2
42 0 29 0 4 1
43 3 28 1 1 6
44 1 30 0 1 6
45 2 2 1 1 5
46 1 17 0 1 5
47 1 22 1 1 5
48 0 30 0 1 5
49 3 3 1 2 1
50 2 6 0 2 1
51 3 8 1 2 1
52 3 12 0 2 1
53 0 30 1 2 1")
data9b<-data.frame(matrix(as.numeric(unlist(strsplit(as.numeric(data9), split="\\s|\\n"))), ncol=6,byrow=TRUE))
data9b
data9b<-data.frame(matrix(as.numeric(unlist(strsplit(as.numeric(data9), split="\\s|\\n"))), ncol=6,byrow=TRUE))
data9b<-data.frame(matrix(as.numeric(unlist(strsplit(data9, split="\\s|\\n"))), ncol=6,byrow=TRUE))
data9b
data9<-c("1 1 8 1 1 1
2 0 1 0 1 3
3 0 4 1 2 1
4 0 7 0 1 1
5 0 10 1 5 1
6 2 6 0 4 1
7 0 10 1 4 1
8 0 14 0 1 1
9 0 18 1 1 1
10 3 5 0 1 3
11 0 18 1 1 3
12 1 12 0 1 1
13 2 16 1 1 1
14 0 18 0 1 1
15 0 23 1 3 3
16 3 10 0 1 3
17 1 15 1 1 3
18 0 23 0 1 3
19 2 3 1 1 1
20 3 16 0 1 1
21 1 23 1 1 1
22 1 3 0 3 1
23 2 9 1 3 1
24 2 21 0 3 1
25 0 23 1 3 1
26 3 7 0 2 3
27 3 10 1 2 3
28 1 16 0 2 3
29 1 24 1 2 3
30 1 3 0 1 1
31 2 15 1 1 1
32 2 25 0 1 1
33 0 26 1 1 2
34 1 1 0 8 1
35 0 26 1 8 1
36 1 2 0 1 4
37 1 26 1 1 4
38 1 25 0 1 2
39 0 28 1 1 2
40 0 29 0 1 4
41 0 29 1 1 2
42 0 29 0 4 1
43 3 28 1 1 6
44 1 30 0 1 6
45 2 2 1 1 5
46 1 17 0 1 5
47 1 22 1 1 5
48 0 30 0 1 5
49 3 3 1 2 1
50 2 6 0 2 1
51 3 8 1 2 1
52 3 12 0 2 1
53 0 30 1 2 1")
data9b<-data.frame(matrix(as.numeric(unlist(strsplit(data9, split="\\s|\\n"))), ncol=6,byrow=TRUE))
data9b
colnames(data9b)<-c("ID", "Event", "Time", "TX", "NUM", "Size")
data9b
tfa<-c(0,2,4)
nfa<-c(100,40,40)
mfa<-c(0,0,20)
hazhata<-c(0,0,0.5)
survhata<-c(NA,1,0.4)
ihata<-c(NA,0,0.2)
CICa<-c(NA,0,0.2)
dsA<-cbind(tfa,nfa,mfa,hazhata,survhata,ihata,CICa)
dsA
tfa<-c(0,2,4)
nfa<-c(100,40,40)
mfa<-c(0,0,20)
hazhata<-c(0,0,0.5)
survhata<-c(NA,1,0.4)
ihata<-c(NA,0,0.2)
CICa<-c(NA,0,0.2)
dsA<-cbind(tfa,nfa,mfa,hazhata,survhata,ihata,CICa)
dsA
tfb<-c(0,1,2,3,4)
nfb<-c(100,80,80,65,25)
mfb<-c(0,0,15,0,5)
hazhatb<-c(0,0,(15/80),0,5/25)
survhatb<-c(NA,1,80/100,65/100,25/100)
ihatb<-c(NA, 0, 0.15, 0, 0.5)
CICb<-c(NA,0,0.15,0.15,0.20)
dsB<-cbind(tfb,nfb,mfb,hazhatb,survhatb,ihatb,CICb)
dsB
data9_5tx1<-data.frame(matrix(as.numeric(unlist(strsplit(data9_5tx1, split="\\s|\\n"))), ncol=7,byrow=TRUE))
data9_5tx1<-c("0 27 0 0 — — —
2 27 0 0 1 0 0
3 26 0 0 .9630 0 0
4 24 0 0 .8889 0 0
8 23 1 .0435 .8889 .0387 .0387
9 21 0 0 .8116 0 .0387
10 20 0 0 .7729 0 .0387
15 17 1 .0588 .7343 .0432 .0819
16 15 0 0 .6479 0 .0819
18 14 0 0 .6047 0 .0819
22 12 1 .0833 .6047 .0504 .1323
23 11 1 .0910 .5543 .0504 .1827
24 8 1 .1250 .5039 .0630 .2457
26 7 1 .1429 .4409 .0630 .3087
28 4 0 0 .3779 0 .3087
29 2 0 0 .2835 0 .3087
30 1 0 0 .2835 0 .3087")
data9_5tx1<-data.frame(matrix(as.numeric(unlist(strsplit(data9_5tx1, split="\\s|\\n"))), ncol=7,byrow=TRUE))
data9_5tx1
colnames(data9b)<-c("tf", "nf", "d1f", "h1" ,"S1", "I1", "CIC1")
data9_5tx1<-data.frame(matrix(as.numeric(unlist(strsplit(data9_5tx1, split="\\s|\\n"))), ncol=7,byrow=TRUE))
colnames(data9_5tx1)<-c("tf", "nf", "d1f", "h1" ,"S1", "I1", "CIC1")
data9_5tx1
data9_5tx1<-c("0 27 0 0 — — —
2 27 0 0 1 0 0
3 26 0 0 .9630 0 0
4 24 0 0 .8889 0 0
8 23 1 .0435 .8889 .0387 .0387
9 21 0 0 .8116 0 .0387
10 20 0 0 .7729 0 .0387
15 17 1 .0588 .7343 .0432 .0819
16 15 0 0 .6479 0 .0819
18 14 0 0 .6047 0 .0819
22 12 1 .0833 .6047 .0504 .1323
23 11 1 .0910 .5543 .0504 .1827
24 8 1 .1250 .5039 .0630 .2457
26 7 1 .1429 .4409 .0630 .3087
28 4 0 0 .3779 0 .3087
29 2 0 0 .2835 0 .3087
30 1 0 0 .2835 0 .3087")
ds9_5tx1<-data.frame(matrix(as.numeric(unlist(strsplit(data9_5tx1, split="\\s|\\n"))), ncol=7,byrow=TRUE))
colnames(ds9_5tx1)<-c("tf", "nf", "d1f", "h1" ,"S1", "I1", "CIC1")
ds9_5tx1
data9_5tx0<-c("0 26 0 0 — — —
1 26 1 .0400 1 .0400 .0400
2 24 1 .0417 .9615 .0400 .0800
3 23 2 .0870 .9215 .0801 .1601
5 21 0 0 .8413 0 .1601
6 20 0 0 .8013 0 .1601
7 18 0 0 .7212 0 .1601
10 16 0 0 .6811 0 .1601
12 15 1 .0667 .6385 .0426 .2027
14 13 0 0 .6835 0 .2027
16 12 1 .0833 .5534 .0461 .2488
17 10 1 .1000 .4612 .0461 .2949
18 9 0 0 .4150 0 .2949
21 8 0 0 .4150 0 .2949
23 7 0 0 .3632 0 .2949
25 6 1 .1667 .3632 .0605 .3554
29 4 0 0 .2421 0 .3554
30 2 1 0 .2421 0 .3554")
ds9_5tx0<-data.frame(matrix(as.numeric(unlist(strsplit(data9_5tx0, split="\\s|\\n"))), ncol=7,byrow=TRUE))
colnames(ds9_5tx0)<-c("tf", "nf", "d1f", "h1" ,"S1", "I1", "CIC1")
ds9_5tx0
ds9_5tx1
1/24
1/23
26/27
(26/27)*(24/26)
24/27
(24/27)*(1/23)
